<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src wss://irc-ws.chat.twitch.tv; media-src https://polly.streamlabs.com;">
  <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; connect-src wss://irc-ws.chat.twitch.tv; media-src https://polly.streamlabs.com;">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div id="topBar">
    <input class="button-hidden" id="editChannel" type="button" value="Edit">
    <input id="channelName" placeholder="Channel" value="castlehead">
    <input class="button-hidden" id="minimiseBtn" type="button" value="_">
    <input class="button-hidden" id="closeBtn" type="button" value="X">
  </div>
  <div class="container">
    <div class="svg-container">
        <div id="aligner">
          <span class="input" id="userName" role="textbox" contenteditable spellcheck="false"></span>
        </div>
      <svg height="205" width="240" id="canvas-user">
        <image id="avatar" href="./resources/avatars/defaultUser.png" height="240" width="240" />
        <foreignObject height="120" width="120" x="60" y="120">
          <div class="centered">
            <input class="button-hidden" id="hideAvatar" type="button" value="Hide Avatar">
          </div>
        </foreignObject>
      </svg>
      <svg height="345" width="355" id="canvas-speech-bubble">
        <g>
          <path id="speechBubble"
            d="m 15 153.75 c 0 -46.875 75 -93.75 150 -93.75 c 75 0 150 46.875 150 93.75 c 0 46.875 -75 93.75 -150 93.75 q -63 -1.875 -106.5 -31.5 l -28.5 6 l 10.5 -21 q -25.5 -21 -25.5 -47.25"
            fill="white" stroke="black" stroke-width="3">
            <animate attributeName="opacity" values="1;1;1;1;0;" dur="5s" />
          </path>
          <foreignObject height="110" width="230" x="50" y="100">
            <div id="speechBubbleMessage">
              <div id="lastMessage"></div>
              <audio id="audioPlayer" autoplay>
                <source id="audioSource" src="" type="audio/mpeg" />
              </audio>
            </div>
          </foreignObject>
        </g>
      </svg>
    </div>
    <div id="userSelector">
      <input id="prevAvatar" type="button" value="&lt;">
      <input class="button-hidden" id="setUser" type="button" value="Set User">
      <input id="nextAvatar" type="button" value="&gt;">
      <input id="selectedUser" placeholder="selected User">
    </div>
  </div>
</body>

</html>